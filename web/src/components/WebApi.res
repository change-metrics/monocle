// Copyright (C) 2021 Monocle authors
// SPDX-License-Identifier: AGPL-3.0-or-later

// Generated by monocle-codegen. DO NOT EDIT!

type axiosResponse<'data> = {data: 'data}
type axios<'data> = Js.Promise.t<axiosResponse<'data>>
let serverUrl = %raw(`
  (window.API_URL !== '__API_URL__' ? window.API_URL : process.env.REACT_APP_API_URL || '')
`)

module Config = {
  @module("axios")
  external getWorkspacesRaw: (string, 'a) => axios<'b> = "post"

  let getWorkspaces = (request: ConfigTypes.get_workspaces_request): axios<
    ConfigTypes.get_workspaces_response,
  > =>
    request->ConfigBs.encode_get_workspaces_request
    |> getWorkspacesRaw(serverUrl ++ "/api/2/get_workspaces")
    |> Js.Promise.then_(resp =>
      {data: resp.data->ConfigBs.decode_get_workspaces_response}->Js.Promise.resolve
    )
  @module("axios")
  external getProjectsRaw: (string, 'a) => axios<'b> = "post"

  let getProjects = (request: ConfigTypes.get_projects_request): axios<
    ConfigTypes.get_projects_response,
  > =>
    request->ConfigBs.encode_get_projects_request
    |> getProjectsRaw(serverUrl ++ "/api/2/get_projects")
    |> Js.Promise.then_(resp =>
      {data: resp.data->ConfigBs.decode_get_projects_response}->Js.Promise.resolve
    )
}

module Search = {
  @module("axios")
  external suggestionsRaw: (string, 'a) => axios<'b> = "post"

  let suggestions = (request: SearchTypes.suggestions_request): axios<
    SearchTypes.suggestions_response,
  > =>
    request->SearchBs.encode_suggestions_request
    |> suggestionsRaw(serverUrl ++ "/api/2/suggestions")
    |> Js.Promise.then_(resp =>
      {data: resp.data->SearchBs.decode_suggestions_response}->Js.Promise.resolve
    )
  @module("axios")
  external fieldsRaw: (string, 'a) => axios<'b> = "post"

  let fields = (request: SearchTypes.fields_request): axios<SearchTypes.fields_response> =>
    request->SearchBs.encode_fields_request
    |> fieldsRaw(serverUrl ++ "/api/2/search/fields")
    |> Js.Promise.then_(resp =>
      {data: resp.data->SearchBs.decode_fields_response}->Js.Promise.resolve
    )
  @module("axios")
  external checkRaw: (string, 'a) => axios<'b> = "post"

  let check = (request: SearchTypes.check_request): axios<SearchTypes.check_response> =>
    request->SearchBs.encode_check_request
    |> checkRaw(serverUrl ++ "/api/2/search/check")
    |> Js.Promise.then_(resp =>
      {data: resp.data->SearchBs.decode_check_response}->Js.Promise.resolve
    )
  @module("axios")
  external queryRaw: (string, 'a) => axios<'b> = "post"

  let query = (request: SearchTypes.query_request): axios<SearchTypes.query_response> =>
    request->SearchBs.encode_query_request
    |> queryRaw(serverUrl ++ "/api/2/search/query")
    |> Js.Promise.then_(resp =>
      {data: resp.data->SearchBs.decode_query_response}->Js.Promise.resolve
    )
}

module UserGroup = {
  @module("axios")
  external listRaw: (string, 'a) => axios<'b> = "post"

  let list = (request: UserGroupTypes.list_request): axios<UserGroupTypes.list_response> =>
    request->UserGroupBs.encode_list_request
    |> listRaw(serverUrl ++ "/api/2/user_group/list")
    |> Js.Promise.then_(resp =>
      {data: resp.data->UserGroupBs.decode_list_response}->Js.Promise.resolve
    )
  @module("axios")
  external getRaw: (string, 'a) => axios<'b> = "post"

  let get = (request: UserGroupTypes.get_request): axios<UserGroupTypes.get_response> =>
    request->UserGroupBs.encode_get_request
    |> getRaw(serverUrl ++ "/api/2/user_group/get")
    |> Js.Promise.then_(resp =>
      {data: resp.data->UserGroupBs.decode_get_response}->Js.Promise.resolve
    )
}

module Crawler = {

}
